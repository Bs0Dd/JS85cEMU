<!DOCTYPE html>
<html>
<head>
<title>Справка по JS85cEMU</title>
<meta charset="UTF-8">
<style>
    body {text-align: center;}

    .menulink {
        padding-left: 10px;
        padding-right: 10px;
        font-weight: bold;
    }
</style>
</head>
<body>

<h1>Справка по JS85cEMU</h1>

<h3><a href="panel.html">English</a></h3>

<hr>
<h3 style="margin-top: 5px;margin-bottom: 5px;">Меню</h3>
<a class="menulink" href="help_ru.html">Главная страница</a>
<a class="menulink" href="interface_ru.html">Интерфейс эмулятора</a><br>
<span class="menulink">Работа с панелью опций</span>
<a class="menulink" href="debug_ru.html">Работа с Дебаггером</a>
<a class="menulink" href="xchg_ru.html">Работа с Xchanger</a><br>
<a class="menulink" href="uman_ru.html">Неофициальное руководство для МК85С</a><br>
<a class="menulink" href="faq_ru.html">Часто задаваемые вопросы (FAQ)</a>
<hr>

<h3>Панель опций</h3>

<img src="panel.png" alt="panel"><br>

<p style="text-align: left;">
    &nbsp;&nbsp;&nbsp;&nbsp;<b>Панель опций</b> является инструментом для <b>настройки</b> и <b>управления</b> эмулятором, позволяя модифицировать <b>базовые параметры</b>,
    влияющие на поведение <b>виртуального шифратора</b>.<br><br>
    &nbsp;&nbsp;&nbsp;&nbsp;Панель состоит из <b>4 секций</b> со сгруппированными по <b>общему признаку</b> параметрами.
</p><br>

<h4>Секция конфигурации скорости</h4>

<img src="p1.png" alt="p1"><br>
 
<p style="text-align: left;">
    &nbsp;&nbsp;&nbsp;&nbsp;Данная секция позволяет переключать <b>скоростные режимы</b> шифратора и изменять <b>скорость</b> этих режимов.<br>
    &nbsp;&nbsp;&nbsp;&nbsp;Первая строка (<b>"Speed"</b>) показывает <b>текущее состояние</b> процессора. Оно может быть <b>обычным </b>(<b>"Normal"</b>), либо <b>ускоренным</b> (<b>"Turbo"</b>).
    Также может быть включен <b>восьмикратный делитель</b> тактовой частоты (<b>"(8x slowed by freq. divider)"</b>) или <b>остановлен</b> тактовый
    генератор процессора ("<b>(clock stopped)</b>").<br>
    &nbsp;&nbsp;&nbsp;&nbsp;Строки <b>"Standard"</b> и <b>"Turbo"</b> служат для изменения скорости <b>обычного</b> и <b>турбо</b> режима соответственно.
    По умолчанию для <b>обычного</b> режима установлена скорость <b>25000</b> операций в секунду и <b>120000</b> операций в секунду для <b>турбо</b>.
    Эти значения <b>близки</b> к реальным шифраторам (скорость в них <b>плавает</b> от устройства к устройству,
    что является следствием <b>неидеальности</b> (разброса) резисторов, применяемых в <b>тактовой RC цепи</b>, никаких <b>кварцевых резонаторов</b>), поэтому считаются <b>номинальными</b>.
    Кнопки <b>"Reset"</b> для каждого режима всегда будет устанавливать его <b>номинальное</b> значение. Для изменения (в диапазоне от <b>100</b> до <b>1000000</b> операций в секунду)
    достаточно ввести в <b>поле ввода</b> нужное значение и нажать <b>"Set"</b>.<br>
    &nbsp;&nbsp;&nbsp;&nbsp;Кнопка <b>"Change speed mode"</b> позволяет произвести смену режима <b>на горячую</b> (<b>не перезагружая</b> эмулятор).
    Рекомендуется менять режим только когда у устройства <b>остановлен тактовый генератор</b>.
    Если произвести смену при <b>опросе клавиатуры</b> или <b>выводе текста</b>, режим может <b>не переключиться</b>.
    Кнопка <b>"Restart in turbo mode"</b> перезагружает эмулятор <b>с включением</b> турбо режима<br><br>
    &nbsp;&nbsp;&nbsp;&nbsp;К сожалению, имеющаяся <b>прошивка</b> МК85С при обращении к регистру <b>CPUC</b> постоянно <b>сбрасывает</b> бит турбо режима, поэтому включить его <b>не представляется возможным</b>. 
</p><br>

<h4>Секция управления</h4>

<img src="p2.png" alt="p2"><br>
 
<p style="text-align: left;">
    &nbsp;&nbsp;&nbsp;&nbsp;Секция служит для <b>управления</b> работой эмулятора и переключения <b>общих функций</b>. Кнопки <b>"Pause"</b> и <b>"Restart"</b>,
    как следует из названия, служат для <b>приостановки</b> и <b>перезапуска </b>эмулятора.
    Параметр <b>"Vibro (keys)"</b> включает или выключает <b>вибрацию устройства</b> (если таковое <b>способно</b> вибрировать, что, как правило, касается <b>портативных устройств</b>)
    при нажатии на <b>виртуальную клавиатуру</b> шифратора. На устройствах <b>без возможности вибрации</b> пункт не выполняет <b>никакой</b> функции.
</p><br>

<h4>Секция дополнительных функций</h4>

<img src="p3.png" alt="p3"><br>
 
<p style="text-align: left;">
    &nbsp;&nbsp;&nbsp;&nbsp;В секции находятся кнопки для открытия <b>утилит</b> и информационных <b>окон</b>, а также <b>отладочные</b> параметры.<br>
    &nbsp;&nbsp;&nbsp;&nbsp;Кнопка <b>"Keyboard layout"</b> открывает окно со <b>схемой раскладки</b> компьютерной клавиатуры, <b>адаптированной</b> для работы с виртуальным шифратором.
    Кнопка <b>"Xchanger"</b> открывает панель <a href="xchg_ru.html"><b>утилиты Xchanger</b></a>.
    Кнопка <b>"Debugger"</b> открывает, соответственно, панель <a href="debug_ru.html"><b>Дебаггера</b></a>.
    Кнопка <b>"Help"</b> открывает окно с данной <b>справкой</b>. А кнопка <b>"About"</b> - окно с <b>краткими сведениями</b> о программе и <b>списком изменений</b> (<b>Changelog</b>).<br>
    &nbsp;&nbsp;&nbsp;&nbsp;Параметр <b>"Meaningful display"</b> изменяет <b>текстовые сегменты</b> дисплея (в МК85С используется <b>стандартный</b> дисплей, но назначения у сегментов <b>другие</b>),
    чтобы они соответствовали <b>назначенной</b> индикации (<b>RUN -> РШФ</b>, <b>WRT -> ШИФ</b> и т.д.). Параметр <b>"Force turbo"</b> служит для <b>принудительного</b> включения <b>турбо режима</b>,
    поскольку <b>реальное устройство</b> при включении с турбо режимом
    на самом деле находится в нем <b>не постояно</b>, а выключает его при <b>выводе текста</b> на дисплей и <b>опросе</b> клавиатуры.
    Параметр <b>"Ignore frq. div."</b> принудительно отключает <b>делитель тактовой частоты</b> процессора (в <b>8</b> раз),
    также применяемый при <b>выводе текста</b> на дисплей и <b>опросе</b> клавиатуры.
    Параметр <b>"Disable soft poff"</b> отключает поддержку присутствующего в процессоре <b>программного выключателя</b>, позволяющего прошивке <b>выключать</b> устройство.
    Параметр <b>"Show debug messages"</b> разрешает показ <b>отладочных сообщений</b> в консоли (через функцию <b>console.log</b>).
</p><br>

<h4>Секция загрузки и сохранения данных</h4>

<img src="p4.png" alt="p4"><br>
 
<p style="text-align: left;">
    &nbsp;&nbsp;&nbsp;&nbsp;В этой секции можно <b>загружать</b> или <b>сохранять</b> <b>ОЗУ</b> и <b>ПЗУ</b> виртуального шифратора.<br>
    &nbsp;&nbsp;&nbsp;&nbsp;В полях <b>"RAM/ROM file"</b> отображаются <b>названия</b> загруженных файлов для ОЗУ и ПЗУ памяти.
    Надпись <b>"internal"</b> (внутренний) показывается, если используется встроенное (<b>заводское</b>) <b>ПЗУ</b> или если <b>ОЗУ образ</b> создан в <b>эмуляторе</b>.
    Чтобы загрузить из <b>бинарного файла</b> ОЗУ или ПЗУ, достаточно <b>выбрать файл</b> (<b>кнопкой</b> или через <b>Drag'n'Drop</b>)
    и нажать кнопку <b>"Load RAM/ROM from file"</b>. При этом для <b>ОЗУ</b> файл должен быть <b>равен 2КБ</b>, для <b>ПЗУ</b> - <b>кратен 8КБ</b>. ПЗУ <b>не может</b> превышать <b>32КБ</b>.
    При <b>несоблюдении</b> условий образы будут автоматически <b>расширены</b> до <b>кратных</b> соответствующим числам, либо <b>обрезаны</b> до <b>2КБ / 32КБ</b>.<br>
    &nbsp;&nbsp;&nbsp;&nbsp;Чтобы сбросить <b>ROM образ</b> на <b>заводской</b>, достаточно нажать кнопку <b>"Reset ROM"</b>.
    <b>ОЗУ</b> можно сбросить кнопкой <b>"Clear RAM"</b>. Кнопка <b>"Fast init"</b> производит <b>быструю</b> инициализацию ОЗУ,
    что позволяет <b>пропустить</b> тест устройства, выполняемый при <b>обычной</b> инициализации.<br>
    &nbsp;&nbsp;&nbsp;&nbsp;ОЗУ можно <b>сохранить на диск</b> в виде <b>бинарного файла</b>.
    Делается это кнопкой <b>"Save RAM"</b>, при этом браузером загрузится файл <b>"mk85c_ram.bin"</b>.<br><br>
    &nbsp;&nbsp;&nbsp;&nbsp;Кнопка <b>"Switch to model Б/С"</b> используется для переключения эмулятора между <b>режимами</b> эмуляции <b>МК85С</b> и <b>МК85Б</b> (банковский).
    МК85Б (<b>очень редкий</b> даже в сравнении с МК85С) имеет <b>другие клавиши</b> в цифровом блоке (на корпусе по прежнему обозначен как <b>МК85С</b>),
    оснащен <b>4КБ ОЗУ</b> и использует <b>собственную прошивку</b> для шифрования <b>банковских авизо</b>.
    Он применялся сотрудниками <b>ЦБ РФ</b>, но в отличии от МК85С <b>не является коммерческим</b>, а также, по некоторым сведениям, предназначен только для <b>служебного пользования</b>.
    По этой причине на <b>данный</b> момент я не могу добавить <b>ПЗУ</b> в эмулятор, поэтому <b>режим Б</b> лишь изменяет <b>вид клавиш</b> и <b>расширяет ОЗУ</b>, прошивку (<b>недоступную публично</b>) необходимо загружать <b>вручную</b>.
</p>

<hr>
<h3 style="margin-top: 5px;margin-bottom: 5px;">Меню</h3>
<a class="menulink" href="help_ru.html">Главная страница</a>
<a class="menulink" href="interface_ru.html">Интерфейс эмулятора</a><br>
<span class="menulink">Работа с панелью опций</span>
<a class="menulink" href="debug_ru.html">Работа с Дебаггером</a>
<a class="menulink" href="xchg_ru.html">Работа с Xchanger</a><br>
<a class="menulink" href="uman_ru.html">Неофициальное руководство для МК85С</a><br>
<a class="menulink" href="faq_ru.html">Часто задаваемые вопросы (FAQ)</a>
<hr>

</body>
</html> 
